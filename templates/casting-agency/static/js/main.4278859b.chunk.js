(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){},26:function(e,t,a){e.exports=a(42)},31:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(23),i=a.n(l),o=a(10),c=(a(31),a(3)),s=a(4),u=a(6),m=a(5),d=a(7),h=a(13),p=(a(33),a(35),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("nav",null,r.a.createElement("h1",null,"CASTING AGENCY")))}}]),t}(n.Component)),g=a(12),b=a(2),f=a.n(b),E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).getMovies=function(){f.a.ajax({url:"https://castagencyya.herokuapp.com/movies",type:"GET",success:function(e){a.setState({movies:e.movies})},error:function(e){alert("Unable to load movies. Please try your request again")}})},a.movieAction=function(e){return function(t){"DELETE"===t&&window.confirm("are you sure you want to delete this movie?")&&f.a.ajax({url:"https://castagencyya.herokuapp.com/movies/".concat(e),type:"DELETE",success:function(e){a.getMovies()},error:function(e){alert("Unable to delete the movie. Please try your request again")}})}},a.updateMovie=function(e){return function(t){t.preventDefault(),f.a.ajax({url:"https://castagencyya.herokuapp.com/movies/".concat(e),type:"PATCH",dataType:"json",contentType:"application/json",data:JSON.stringify({title:a.state.title,release_date:a.state.release_date}),xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e){window.location.reload(!1)},error:function(e){alert("Unable to update the movie. Please try your request again")}})}},a.handleChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.showform=function(e){var t=a.state.movies.filter(function(t){return t.id===e.id})[0];document.querySelector("#title").value=t.title,document.querySelector("#release_date").value=t.release_date;var n=document.querySelector("#id").value=t.id;f()(".form-visible").show(),f()(".dborder3").hide(),f()(".button-visible").hide(),a.setState({id:n})},a.state={movies:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"render",value:function(){var e=this,t=this.state.id;return r.a.createElement("div",{id:"display"},r.a.createElement("div",{className:"dborder boxshw cardwi",id:"someDivId"},r.a.createElement(o.c,{to:"/addmovie"},r.a.createElement("button",{type:"button",className:"button-visible",title:"add a new movie"},"Add a new movie")),r.a.createElement("form",{className:"form-view form-visible",onSubmit:this.updateMovie(t)},r.a.createElement("label",null,"Title",r.a.createElement("input",{type:"text",name:"title",id:"title",onChange:this.handleChange,required:!0})),r.a.createElement("br",null),r.a.createElement("label",null,"Release date",r.a.createElement("input",{type:"date",name:"release_date",id:"release_date",onChange:this.handleChange,required:!0})),r.a.createElement("br",null),r.a.createElement("label",null,"Id",r.a.createElement("input",{type:"text",size:"4",name:"id",id:"id",onChange:this.handleChange,readOnly:!0})),r.a.createElement("input",{type:"submit",className:"button",value:"Save"})),this.state.movies&&this.state.movies.map(function(t,a){return r.a.createElement("div",{key:t.id},r.a.createElement("div",{className:"dborder3"},r.a.createElement("ul",{className:"listnone"},r.a.createElement("li",null,r.a.createElement("span",{className:"listbold"},"Title"),": ",r.a.createElement("span",null,t.title),r.a.createElement("img",{src:"images/edit.png",alt:"edit",title:"Edit this movie",className:"edit",onClick:function(){return e.showform(t)}})),r.a.createElement("li",null,r.a.createElement("span",{className:"listbold"},"Release date"),": ",r.a.createElement("span",null,t.release_date),r.a.createElement("img",{src:"images/delete.png",alt:"delete",title:"Delete this movie",className:"delete",onClick:function(){return e.movieAction(t.id)("DELETE")}})))))})))}}]),t}(n.Component),v=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).getActors=function(){f.a.ajax({url:"https://castagencyya.herokuapp.com/actors",type:"GET",success:function(e){a.setState({actors:e.actors})},error:function(e){alert("Unable to load actors. Please try your request again")}})},a.actorAction=function(e){return function(t){"DELETE"===t&&window.confirm("are you sure you want to delete this actor?")&&f.a.ajax({url:"https://castagencyya.herokuapp.com/actors/".concat(e),type:"DELETE",success:function(e){a.getActors()},error:function(e){alert("Unable to delete the actor. Please try your request again")}})}},a.updateActor=function(e){return function(t){t.preventDefault(),f.a.ajax({url:"https://castagencyya.herokuapp.com/actors/".concat(e),type:"PATCH",dataType:"json",contentType:"application/json",data:JSON.stringify({name:a.state.name,age:a.state.age,gender:a.state.gender}),xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e){window.location.reload(!1)},error:function(e){alert("Unable to update the actor. Please try your request again")}})}},a.handleChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.showform=function(e){var t=a.state.actors.filter(function(t){return t.id===e.id})[0];document.querySelector("#name").value=t.name,document.querySelector("#age").value=t.age,document.querySelector("#gender").value=t.gender;var n=document.querySelector("#id").value=t.id;f()(".form-visible").show(),f()(".dborder3").hide(),f()(".button-visible").hide(),a.setState({id:n})},a.state={actors:[]},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getActors()}},{key:"render",value:function(){var e=this,t=this.state.id;return r.a.createElement("div",{id:"display"},r.a.createElement("div",{className:"dborder boxshw cardwi"},r.a.createElement(o.c,{to:"/addactor"},r.a.createElement("button",{type:"button",className:"button-visible",title:"add a new actor"},"Add a new actor")),r.a.createElement("form",{className:"form-view form-visible",onSubmit:this.updateActor(t)},r.a.createElement("label",null,"Name",r.a.createElement("input",{type:"text",name:"name",id:"name",onChange:this.handleChange,required:!0})),r.a.createElement("br",null),r.a.createElement("label",null,"Age",r.a.createElement("input",{type:"number",name:"age",id:"age",onChange:this.handleChange,required:!0})),r.a.createElement("br",null),r.a.createElement("label",null,"Gender",r.a.createElement("input",{type:"text",name:"gender",id:"gender",onChange:this.handleChange,required:!0})),r.a.createElement("br",null),r.a.createElement("label",null,"Id",r.a.createElement("input",{type:"text",size:"4",name:"id",id:"id",onChange:this.handleChange,readOnly:!0})),r.a.createElement("input",{type:"submit",className:"button",value:"Save"})),this.state.actors&&this.state.actors.map(function(t,a){return r.a.createElement("div",{key:t.id},r.a.createElement("div",{className:"dborder3"},r.a.createElement("ul",{className:"listnone"},r.a.createElement("li",null,r.a.createElement("span",{className:"listbold"},"Name"),": ",r.a.createElement("span",{id:"name"},t.name),r.a.createElement("img",{src:"images/edit.png",alt:"edit",title:"Edit this actor",className:"edit",onClick:function(){return e.showform(t)}})),r.a.createElement("li",null,r.a.createElement("span",{className:"listbold"},"Age"),": ",r.a.createElement("span",{id:"age"},t.age)),r.a.createElement("li",null,r.a.createElement("span",{className:"listbold"},"Gender"),": ",r.a.createElement("span",{id:"gender"},t.gender),r.a.createElement("img",{src:"images/delete.png",alt:"delete",title:"Delete this actor",className:"delete",onClick:function(){return e.actorAction(t.id)("DELETE")}})))))})))}}]),t}(n.Component),y=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"options-box"},r.a.createElement(o.c,{to:"/"},r.a.createElement("div",{align:"center",role:"listitem",tabIndex:"4",className:"sidebar-item"},r.a.createElement("strong",null,"Movies"),r.a.createElement("br",null),r.a.createElement("img",{src:"images/movies.png",alt:"movies"}))),r.a.createElement(o.c,{to:"/actors"},r.a.createElement("div",{align:"center",role:"listitem",tabIndex:"5",className:"sidebar-item"},r.a.createElement("strong",null,"Actors"),r.a.createElement("br",null),r.a.createElement("img",{src:"images/actors.jpg",alt:"actors"}))))}}]),t}(n.Component),w=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{id:"footer"},r.a.createElement("strong",null,"Casting Agency"),". Made with ",r.a.createElement("strong",null,"React & Flask API"))}}]),t}(n.Component),j=(a(22),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this))).submitMovie=function(e){e.preventDefault(),f.a.ajax({url:"https://castagencyya.herokuapp.com/movies_new",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({title:a.state.title,release_date:a.state.release_date}),xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e){document.getElementById("add-movie-form").reset()},error:function(e){alert("Unable to add the movie. Please try your request again")}})},a.handleChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.state={title:"",release_date:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"add-form"},r.a.createElement("h2",null,"Add a new movie"),r.a.createElement("form",{className:"form-view",id:"add-movie-form",onSubmit:this.submitMovie},r.a.createElement("label",null,"Title",r.a.createElement("input",{type:"text",name:"title",onChange:this.handleChange,required:!0})),r.a.createElement("br",null),r.a.createElement("label",null,"Release date",r.a.createElement("input",{type:"date",name:"release_date",onChange:this.handleChange,required:!0})),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",className:"button",value:"Submit"})))}}]),t}(n.Component)),O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this))).submitActor=function(e){e.preventDefault(),f.a.ajax({url:"https://castagencyya.herokuapp.com/actors_new",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({name:a.state.name,age:a.state.age,gender:a.state.gender}),xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e){document.getElementById("add-actor-form").reset()},error:function(e){alert("Unable to add the actor. Please try your request again")}})},a.handleChange=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.state={name:"",age:"",gender:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"add-form"},r.a.createElement("h2",null,"Add a new actor"),r.a.createElement("form",{className:"form-view",id:"add-actor-form",onSubmit:this.submitActor},r.a.createElement("label",null,"Name",r.a.createElement("input",{type:"text",name:"name",onChange:this.handleChange,required:!0})),r.a.createElement("br",null),r.a.createElement("label",null,"Age",r.a.createElement("input",{type:"number",name:"age",onChange:this.handleChange,required:!0})),r.a.createElement("br",null),r.a.createElement("label",null,"Gender",r.a.createElement("input",{type:"text",name:"gender",onChange:this.handleChange,required:!0})),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",className:"button",value:"Submit"})))}}]),t}(n.Component),C=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(o.b,{basename:"/casting-agency"},r.a.createElement(p,null),r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/",exact:!0,component:E}),r.a.createElement(h.a,{path:"/actors",exact:!0,component:v}),r.a.createElement(h.a,{path:"/addmovie",exact:!0,component:j}),r.a.createElement(h.a,{path:"/addactor",exact:!0,component:O}),r.a.createElement(h.a,{component:E})),r.a.createElement(y,null),r.a.createElement(w,null)))}}]),t}(n.Component),N=Object(h.f)(C),k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(o.a,null,r.a.createElement(N,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/casting-agency",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/casting-agency","/service-worker.js");k?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):S(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):S(t,e)})}}()}},[[26,2,1]]]);
//# sourceMappingURL=main.4278859b.chunk.js.map